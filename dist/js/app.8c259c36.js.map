{"version":3,"file":"js/app.8c259c36.js","mappings":"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","sources":["webpack://cbthelper/./App.vue","webpack://cbthelper/./App.vue?535e","webpack://cbthelper/./components/ApiConfig.vue","webpack://cbthelper/./components/ApiConfig.vue?ecf6","webpack://cbthelper/./components/ThoughtRecord.vue","webpack://cbthelper/./components/ThoughtRecord.vue?3129","webpack://cbthelper/./components/CognitiveAnalysis.vue","webpack://cbthelper/./components/CognitiveAnalysis.vue?0da3","webpack://cbthelper/./components/Dashboard.vue","webpack://cbthelper/./components/Dashboard.vue?2b18","webpack://cbthelper/./src/main.js","webpack://cbthelper/webpack/bootstrap","webpack://cbthelper/webpack/runtime/chunk loaded","webpack://cbthelper/webpack/runtime/define property getters","webpack://cbthelper/webpack/runtime/global","webpack://cbthelper/webpack/runtime/hasOwnProperty shorthand","webpack://cbthelper/webpack/runtime/make namespace object","webpack://cbthelper/webpack/runtime/jsonp chunk loading","webpack://cbthelper/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\" class=\"app-container\">\n    <header class=\"app-header\">\n      <div class=\"header-content\">\n        <div class=\"logo\">\n          <router-link to=\"/\">CBT Helper</router-link>\n        </div>\n        <!-- Desktop nav -->\n        <nav class=\"nav-links-desktop\">\n          <router-link to=\"/\" class=\"nav-link\" active-class=\"router-link-active\">{{ t('nav.home') }}</router-link>\n          <router-link to=\"/record\" class=\"nav-link\" active-class=\"router-link-active\">{{ t('nav.record') }}</router-link>\n          <router-link to=\"/analysis\" class=\"nav-link\" active-class=\"router-link-active\">{{ t('nav.analysis') }}</router-link>\n          <router-link to=\"/config\" class=\"nav-link\" active-class=\"router-link-active\">{{ t('nav.config') }}</router-link>\n        </nav>\n\n        <!-- Locale Switcher & Mobile Toggle -->\n        <div class=\"header-right\">\n          <button class=\"locale-switcher\" @click=\"toggleLocale\">\n            {{ currentLocale === 'sc' ? '繁' : '简' }}\n          </button>\n\n          <!-- Mobile nav toggle -->\n          <button\n            class=\"nav-toggle-mobile\"\n            :class=\"{ 'is-active': isMobileMenuOpen }\"\n            @click=\"toggleMobileMenu\"\n            aria-label=\"Toggle navigation\"\n            aria-expanded=\"isMobileMenuOpen\"\n          >\n            <span class=\"icon-bar\"></span>\n            <span class=\"icon-bar\"></span>\n            <span class=\"icon-bar\"></span>\n          </button>\n        </div>\n      </div>\n      <!-- Mobile nav menu -->\n      <nav class=\"nav-links-mobile\" :class=\"{ 'is-active': isMobileMenuOpen }\">\n        <router-link to=\"/\" class=\"nav-link\" active-class=\"router-link-active\" @click=\"closeMobileMenu\">{{ t('nav.home') }}</router-link>\n        <router-link to=\"/record\" class=\"nav-link\" active-class=\"router-link-active\" @click=\"closeMobileMenu\">{{ t('nav.record') }}</router-link>\n        <router-link to=\"/analysis\" class=\"nav-link\" active-class=\"router-link-active\" @click=\"closeMobileMenu\">{{ t('nav.analysis') }}</router-link>\n        <router-link to=\"/config\" class=\"nav-link\" active-class=\"router-link-active\" @click=\"closeMobileMenu\">{{ t('nav.config') }}</router-link>\n      </nav>\n    </header>\n\n    <main class=\"app-content\">\n      <router-view v-slot=\"{ Component }\">\n        <transition name=\"fade\" mode=\"out-in\">\n          <component :is=\"Component\" />\n        </transition>\n      </router-view>\n    </main>\n\n    <footer class=\"app-footer\">\n      <p v-html=\"t('footer.copy', { year: new Date().getFullYear() })\"></p> <!-- Use t and v-html -->\n      <p class=\"disclaimer\">{{ t('footer.disclaimer') }}</p>\n    </footer>\n  </div>\n</template>\n\n<script setup>\nimport { ref, inject, computed } from 'vue'\nimport { useI18n } from 'vue-i18n'\n\nconst store = inject('store');\nconst { t, locale } = useI18n(); // t is already obtained here\n\nconst isMobileMenuOpen = ref(false)\n\n// Use computed property to react to store changes\nconst currentLocale = computed(() => store.state.currentLocale);\n\nfunction toggleMobileMenu() {\n  isMobileMenuOpen.value = !isMobileMenuOpen.value\n}\n\n// Function to close mobile menu (e.g., after clicking a link)\nfunction closeMobileMenu() {\n  isMobileMenuOpen.value = false;\n}\n\n// Function to toggle locale\nfunction toggleLocale() {\n  const newLocale = currentLocale.value === 'sc' ? 'tc' : 'sc';\n  store.setLocale(newLocale);\n  // Optionally close mobile menu if open\n  // if (isMobileMenuOpen.value) {\n  //   closeMobileMenu();\n  // }\n}\n\n</script>\n\n<style scoped>\n.app-container {\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n}\n\n.app-header {\n  background-color: var(--primary-color);\n  color: white;\n  padding: 0.8rem 1rem; /* Base padding */\n  box-shadow: 0 2px 5px rgba(0,0,0,0.1);\n  position: sticky;\n  top: 0;\n  z-index: 1000;\n}\n\n.header-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n.header-right {\n  display: flex;\n  align-items: center;\n  gap: 0.8rem; /* Space between locale switcher and mobile toggle */\n}\n\n.logo a {\n  font-size: 1.4rem;\n  font-weight: bold;\n  text-decoration: none;\n  letter-spacing: 0.5px;\n  background: linear-gradient(45deg, white, #a8e0c0);\n  -webkit-background-clip: text;\n  background-clip: text;\n  color: transparent;\n}\n\n.locale-switcher {\n  background: none;\n  border: 1px solid rgba(255, 255, 255, 0.5);\n  color: white;\n  padding: 0.3rem 0.6rem;\n  border-radius: var(--border-radius-sm);\n  cursor: pointer;\n  font-size: 0.8rem;\n  font-weight: 500;\n  transition: var(--transition-default);\n}\n\n.locale-switcher:hover {\n  background-color: rgba(255, 255, 255, 0.1);\n  border-color: white;\n}\n\n/* Hide desktop nav links by default, show later with media query */\n.nav-links-desktop {\n  display: none;\n  gap: 1.5rem;\n}\n\n.nav-link {\n  color: white;\n  text-decoration: none;\n  padding-bottom: 5px;\n  position: relative;\n  transition: color 0.3s ease;\n}\n\n.nav-link:hover,\n.nav-link.router-link-active {\n  color: var(--secondary-color);\n}\n\n.nav-link::after {\n  content: '';\n  position: absolute;\n  width: 0;\n  height: 2px;\n  bottom: 0;\n  left: 50%;\n  transform: translateX(-50%);\n  background-color: var(--secondary-color);\n  transition: width 0.3s ease;\n}\n\n.nav-link:hover::after,\n.nav-link.router-link-active::after {\n  width: 100%;\n}\n\n/* Mobile Navigation Styles */\n.nav-toggle-mobile {\n  display: block; /* Show toggle on mobile */\n  background: none;\n  border: none;\n  cursor: pointer;\n  padding: 0.5rem;\n  z-index: 1010; /* Ensure toggle is above mobile menu */\n  position: relative; /* Needed for z-index */\n}\n\n.nav-toggle-mobile .icon-bar {\n  display: block;\n  width: 22px;\n  height: 2px;\n  background-color: white;\n  margin: 4px 0;\n  transition: var(--transition-default);\n}\n\n/* Animate hamburger icon */\n.nav-toggle-mobile.is-active .icon-bar:nth-child(1) {\n  transform: translateY(6px) rotate(45deg);\n}\n.nav-toggle-mobile.is-active .icon-bar:nth-child(2) {\n  opacity: 0;\n}\n.nav-toggle-mobile.is-active .icon-bar:nth-child(3) {\n  transform: translateY(-6px) rotate(-45deg);\n}\n\n.nav-links-mobile {\n  display: none; /* Hidden by default */\n  flex-direction: column;\n  background-color: var(--primary-color);\n  padding: 1rem 0;\n  position: absolute;\n  top: 100%;\n  left: 0;\n  right: 0;\n  box-shadow: 0 4px 8px rgba(0,0,0,0.1);\n  transform: translateY(-10px); /* Start slightly above */\n  opacity: 0;\n  transition: transform 0.3s ease, opacity 0.3s ease;\n  pointer-events: none; /* Prevent interaction when hidden */\n}\n\n.nav-links-mobile.is-active {\n  display: flex; /* Show when active */\n  opacity: 1;\n  transform: translateY(0);\n  pointer-events: auto; /* Allow interaction when shown */\n}\n\n.nav-links-mobile .nav-link {\n  padding: 0.8rem 1.5rem;\n  text-align: center;\n  border-bottom: 1px solid rgba(255, 255, 255, 0.1);\n}\n.nav-links-mobile .nav-link:last-child {\n  border-bottom: none;\n}\n\n.app-content {\n  flex-grow: 1; /* Takes up remaining vertical space */\n  padding: 1rem; /* Base padding for mobile */\n  max-width: 1200px; /* Limit content width */\n  width: 100%;\n  margin: 0 auto; /* Center content area */\n  box-sizing: border-box;\n}\n\n.app-footer {\n  background-color: var(--background-dark);\n  color: var(--background-light);\n  text-align: center;\n  padding: 0.8rem 1rem;\n  font-size: 0.85rem;\n  margin-top: auto; /* Pushes footer to bottom */\n}\n\n.disclaimer {\n  font-size: 0.75rem;\n  color: rgba(255, 255, 255, 0.7);\n  margin-top: 0.5rem;\n  margin-left: auto;\n  margin-right: auto;\n  white-space: normal;\n  padding: 0 1rem;\n}\n\n/* Transitions */\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n\n/* Medium screens and up (tablets, desktops) */\n@media (min-width: 768px) {\n  .app-header {\n    padding: 1rem 1.5rem;\n  }\n\n  .nav-links-desktop {\n    display: flex; /* Show desktop nav */\n  }\n\n  .nav-toggle-mobile {\n    display: none; /* Hide mobile toggle on desktop */\n  }\n\n  .app-content {\n    padding: 1.5rem; /* Increase padding for larger screens */\n  }\n\n  .app-footer {\n    padding: 1rem 1.5rem;\n    font-size: 0.9rem;\n  }\n\n  .disclaimer {\n    font-size: 0.8rem;\n  }\n\n  /* Ensure locale switcher is positioned correctly relative to desktop nav */\n  .header-right {\n    /* Adjust gap if needed */\n  }\n}\n</style>","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=1a3721b0&scoped=true&lang=css\"\n\nimport exportComponent from \"./node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1a3721b0\"]])\n\nexport default __exports__","<template>\r\n  <div class=\"config-container\">\r\n    <h2 class=\"mb-4\">🔧 API 设置</h2>\r\n    \r\n    <div class=\"card\">\r\n      <div class=\"form-group\">\r\n        <label>API 端点</label>\r\n        <input \r\n          type=\"text\" \r\n          class=\"form-control\"\r\n          v-model=\"apiConfig.endpoint\"\r\n          placeholder=\"https://api.openai.com/v1/chat/completions\"\r\n        >\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label>API 密钥</label>\r\n        <input\r\n          type=\"password\"\r\n          class=\"form-control\"\r\n          v-model=\"apiConfig.apiKey\"\r\n          placeholder=\"sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx\"\r\n        >\r\n      </div>\r\n\r\n      <div class=\"form-group\">\r\n        <label>模型选择</label>\r\n        <select class=\"form-control\" v-model=\"selectedModelOption\" @change=\"handleModelChange\">\r\n          <option value=\"gpt-3.5-turbo\">gpt-3.5-turbo</option>\r\n          <option value=\"gpt-4\">gpt-4</option>\r\n          <option value=\"gpt-4-turbo\">gpt-4-turbo</option>\r\n          <option value=\"custom\">自定义...</option>\r\n        </select>\r\n      </div>\r\n      \r\n      <div class=\"form-group\" v-if=\"selectedModelOption === 'custom'\">\r\n        <label>自定义模型名称</label>\r\n        <input\r\n          type=\"text\"\r\n          class=\"form-control\"\r\n          v-model=\"customModelName\"\r\n          placeholder=\"输入自定义模型名称\"\r\n        >\r\n      </div>\r\n\r\n      <button \r\n        class=\"btn btn-primary\"\r\n        @click=\"saveConfig\"\r\n        :disabled=\"!isFormValid\"\r\n      >\r\n        💾 保存设置\r\n      </button>\r\n\r\n      <div class=\"alert alert-success mt-3\" v-if=\"showSuccess\">\r\n        ✅ 设置保存成功！\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data() {\r\n    return {\r\n      apiConfig: { ...this.$store.state.apiConfig },\r\n      showSuccess: false,\r\n      selectedModelOption: '',\r\n      customModelName: ''\r\n    };\r\n  },\r\n  created() {\r\n    // 初始化时设置selectedModelOption\r\n    const predefinedModels = ['gpt-3.5-turbo', 'gpt-4', 'gpt-4-turbo'];\r\n    if (predefinedModels.includes(this.apiConfig.model)) {\r\n      this.selectedModelOption = this.apiConfig.model;\r\n    } else {\r\n      this.selectedModelOption = 'custom';\r\n      this.customModelName = this.apiConfig.model;\r\n    }\r\n  },\r\n  computed: {\r\n    isFormValid() {\r\n      const hasRequiredFields = this.apiConfig.endpoint && this.apiConfig.apiKey;\r\n      \r\n      if (this.selectedModelOption === 'custom') {\r\n        return hasRequiredFields && this.customModelName;\r\n      } else {\r\n        return hasRequiredFields && this.selectedModelOption;\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    handleModelChange() {\r\n      if (this.selectedModelOption !== 'custom') {\r\n        // 如果选择的是预定义模型，直接更新apiConfig.model\r\n        this.apiConfig.model = this.selectedModelOption;\r\n      } else {\r\n        // 如果选择的是自定义，将customModelName设为当前值（如果为空）\r\n        if (!this.customModelName) {\r\n          this.customModelName = this.apiConfig.model;\r\n        }\r\n      }\r\n    },\r\n    saveConfig() {\r\n      // 如果选择的是自定义模型，使用customModelName\r\n      if (this.selectedModelOption === 'custom') {\r\n        this.apiConfig.model = this.customModelName;\r\n      }\r\n      \r\n      this.$store.state.apiConfig = this.apiConfig;\r\n      this.$store.saveState();\r\n      this.showSuccess = true;\r\n      setTimeout(() => this.showSuccess = false, 2000);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.config-container {\r\n  max-width: 600px;\r\n  margin: 2rem auto;\r\n  padding: 0 15px;\r\n}\r\n\r\n.form-group {\r\n  margin-bottom: 1.5rem;\r\n}\r\n\r\n.form-group label {\r\n  font-weight: 600;\r\n  color: var(--text-primary);\r\n}\r\n</style>","import { render } from \"./ApiConfig.vue?vue&type=template&id=6c594775&scoped=true\"\nimport script from \"./ApiConfig.vue?vue&type=script&lang=js\"\nexport * from \"./ApiConfig.vue?vue&type=script&lang=js\"\n\nimport \"./ApiConfig.vue?vue&type=style&index=0&id=6c594775&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6c594775\"]])\n\nexport default __exports__","<template>\n  <div class=\"record-container\">\n    <h2 class=\"section-title\">📝 记录你的想法</h2>\n    \n    <div class=\"card thought-form\">\n      <form @submit.prevent=\"saveRecord\">\n        <div class=\"form-group\">\n          <label class=\"form-label\">情境描述</label>\n          <div class=\"input-icon-wrapper\">\n            <span class=\"input-icon\">🔍</span>\n          <textarea\n            class=\"form-control\"\n            rows=\"3\"\n            v-model=\"newRecord.situation\"\n            placeholder=\"发生了什么？在哪里？什么时候？\"\n          ></textarea>\n          </div>\n        </div>\n\n        <div class=\"form-group\">\n          <label class=\"form-label\">自动思维 <span class=\"required\">*</span></label>\n          <div class=\"input-icon-wrapper\">\n            <span class=\"input-icon\">💭</span>\n          <textarea\n            class=\"form-control\"\n            rows=\"3\"\n            v-model=\"newRecord.automaticThought\"\n            placeholder=\"你当时想到了什么？有什么样的想法闪过脑海？\"\n            required\n          ></textarea>\n          </div>\n        </div>\n\n        <div class=\"form-group\">\n          <label class=\"form-label\">情绪体验</label>\n          <div class=\"emotion-tags\">\n            <button\n              type=\"button\"\n              class=\"emotion-tag-btn\"\n              v-for=\"emotion in commonEmotions\"\n              :key=\"emotion\"\n              @click=\"toggleEmotion(emotion)\"\n              :class=\"{ active: newRecord.emotions.includes(emotion) }\"\n            >\n              {{ getEmotionEmoji(emotion) }} {{ emotion }}\n            </button>\n          </div>\n          <div class=\"custom-emotion\">\n            <div class=\"emotion-tag-input-container\">\n              <div class=\"selected-emotions\" v-if=\"customEmotions.length > 0\">\n                <span \n                  v-for=\"(emotion, idx) in customEmotions\" \n                  :key=\"idx\"\n                  class=\"custom-emotion-tag\"\n                >\n                  {{ emotion }}\n                  <span class=\"remove-emotion\" @click=\"removeCustomEmotion(idx)\">&times;</span>\n                </span>\n          </div>\n          <input\n            type=\"text\"\n                class=\"form-control emotion-input\"\n                v-model=\"currentEmotion\"\n                placeholder=\"输入其他情绪并按Enter添加...\"\n                @keydown.enter.prevent=\"addCustomEmotion\"\n              >\n            </div>\n          </div>\n        </div>\n\n        <div class=\"form-group\">\n          <label class=\"form-label\">情绪强度 <span class=\"intensity-value\">{{ newRecord.intensity }}%</span></label>\n          <div class=\"intensity-slider\">\n            <span class=\"intensity-min\">😌 轻微</span>\n          <input\n            type=\"range\"\n            class=\"custom-range\"\n            min=\"0\"\n            max=\"100\"\n              step=\"5\"\n            v-model.number=\"newRecord.intensity\"\n          >\n            <span class=\"intensity-max\">😫 强烈</span>\n          </div>\n        </div>\n\n        <div class=\"form-actions\">\n        <button \n          type=\"submit\" \n            class=\"btn btn-primary submit-btn\"\n          :disabled=\"!isFormValid\"\n        >\n            <span class=\"btn-icon\">💾</span>\n            保存记录\n        </button>\n\n          <button \n            type=\"button\" \n            class=\"btn btn-outline-secondary\"\n            @click=\"resetForm\"\n          >\n            <span class=\"btn-icon\">🔄</span>\n            重置\n          </button>\n        </div>\n\n        <div class=\"alert alert-success mt-3 fade-transition\" v-if=\"showSuccess\">\n          ✅ 记录保存成功！快去<router-link to=\"/analysis\">分析页面</router-link>看看吧\n        </div>\n      </form>\n    </div>\n    \n    <div class=\"recent-thoughts\" v-if=\"$store.state.thoughtRecords.length > 0\">\n      <h3 class=\"subsection-title\">最近记录</h3>\n      <div class=\"thoughts-list\">\n        <div \n          class=\"thought-card\" \n          v-for=\"(record, index) in recentThoughts\" \n          :key=\"index\"\n          @click=\"goToAnalysis(index)\"\n        >\n          <div class=\"thought-card-header\">\n            <span class=\"thought-date\">{{ formatDate(record.timestamp) }}</span>\n            <div class=\"thought-emotions\">\n              <span \n                v-for=\"(emotion, idx) in record.emotions.slice(0, 2)\" \n                :key=\"idx\"\n                class=\"emotion-badge\"\n              >\n                {{ emotion }}\n              </span>\n              <span v-if=\"record.emotions.length > 2\" class=\"emotion-more\">+{{ record.emotions.length - 2 }}</span>\n            </div>\n          </div>\n          \n          <div class=\"thought-content\">{{ truncateText(record.automaticThought, 100) }}</div>\n          \n          <div class=\"thought-card-footer\">\n            <div class=\"thought-intensity\">\n              强度: <span class=\"intensity-badge\">{{ record.intensity }}%</span>\n            </div>\n            <span class=\"view-analysis\">查看分析 →</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      newRecord: {\n        situation: '',\n        automaticThought: '',\n        emotions: [],\n        customEmotion: '',\n        intensity: 50,\n        timestamp: null\n      },\n      commonEmotions: ['焦虑', '沮丧', '愤怒', '悲伤', '羞愧', '兴奋', '平静', '恐惧', '失落', '担忧'],\n      showSuccess: false,\n      currentEmotion: '',\n      customEmotions: []\n    };\n  },\n  computed: {\n    isFormValid() {\n      return this.newRecord.automaticThought.trim() &&\n             this.newRecord.intensity > 0;\n    },\n    recentThoughts() {\n      return this.$store.state.thoughtRecords.slice(0, 3);\n    }\n  },\n  methods: {\n    getEmotionEmoji(emotion) {\n      const emojis = {\n        '焦虑': '😰',\n        '沮丧': '😔',\n        '愤怒': '😠',\n        '悲伤': '😢',\n        '羞愧': '😳',\n        '兴奋': '😃',\n        '平静': '😌',\n        '恐惧': '😨',\n        '失落': '😞',\n        '担忧': '😟'\n      };\n      return emojis[emotion] || '😶';\n    },\n    toggleEmotion(emotion) {\n      const index = this.newRecord.emotions.indexOf(emotion);\n      if (index === -1) {\n        this.newRecord.emotions.push(emotion);\n      } else {\n        this.newRecord.emotions.splice(index, 1);\n      }\n    },\n    addCustomEmotion() {\n      const emotion = this.currentEmotion.trim();\n      if (emotion && !this.customEmotions.includes(emotion)) {\n        this.customEmotions.push(emotion);\n        this.currentEmotion = '';\n      }\n    },\n    removeCustomEmotion(index) {\n      this.customEmotions.splice(index, 1);\n    },\n    saveRecord() {\n      const record = {\n        ...this.newRecord,\n        timestamp: new Date().toISOString(),\n        emotions: [\n          ...this.newRecord.emotions,\n          ...this.customEmotions\n        ]\n      };\n      \n      this.$store.state.thoughtRecords.unshift(record);\n      this.$store.saveState();\n      \n      // 通知分析页面有新记录添加\n      if (this.$store.selectedRecordIndex !== undefined) {\n        this.$store.selectedRecordIndex = 0; // 选择最新添加的记录\n      }\n      \n      this.showSuccess = true;\n      setTimeout(() => {\n        this.showSuccess = false;\n        // 提示消失后重置表单\n        this.resetForm();\n      }, 3000);\n    },\n    resetForm() {\n      this.newRecord = {\n        situation: '',\n        automaticThought: '',\n        emotions: [],\n        customEmotion: '',\n        intensity: 50,\n        timestamp: null\n      };\n      this.currentEmotion = '';\n      this.customEmotions = [];\n    },\n    formatDate(timestamp) {\n      if (!timestamp) return '未知时间';\n      return new Date(timestamp).toLocaleString('zh-CN', {\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    },\n    truncateText(text, maxLength) {\n      if (!text) return '';\n      return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;\n    },\n    goToAnalysis(index) {\n      this.$router.push('/analysis');\n      // 需要通过store传递选中的记录索引\n      this.$store.selectedRecordIndex = index;\n    }\n  }\n};\n</script>\n\n<style scoped>\n.record-container {\n  max-width: 800px;\n  margin: 1rem auto;\n  padding: 0 1rem;\n}\n\n.section-title {\n  text-align: center;\n  margin-bottom: 1.5rem;\n  color: var(--primary-color);\n}\n\n.thought-form {\n  /* Uses .card base styles from main.css */\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n}\n\n/* Remove redundant form-group, form-label, form-control styles, handled globally */\n\n.input-icon-wrapper {\n  position: relative;\n}\n\n.input-icon {\n  position: absolute;\n  left: 10px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: var(--text-secondary);\n  font-size: 1.1rem;\n  pointer-events: none;\n}\n\ntextarea.form-control,\ninput.form-control {\n  padding-left: 2.5rem; /* Make space for icon */\n}\n\n.emotion-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n  margin-bottom: 1rem;\n}\n\n.emotion-tag-btn {\n  padding: 0.4rem 0.8rem;\n  border: 1px solid var(--border-color);\n  border-radius: var(--border-radius-sm);\n  background-color: transparent;\n  cursor: pointer;\n  transition: var(--transition-default);\n  font-size: 0.85rem;\n  color: var(--text-secondary);\n}\n\n.emotion-tag-btn:hover {\n  background-color: var(--background-medium);\n  border-color: var(--secondary-color);\n  color: var(--secondary-color);\n}\n\n.emotion-tag-btn.active {\n  background-color: var(--secondary-color);\n  border-color: var(--secondary-color);\n  color: white;\n  font-weight: 500;\n}\n\n.custom-emotion {\n  margin-top: 1rem;\n}\n\n.emotion-tag-input-container {\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n}\n\n.selected-emotions {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.4rem;\n  margin-bottom: 0.5rem; /* Add space below selected tags */\n}\n\n.custom-emotion-tag {\n  background-color: var(--primary-color);\n  color: white;\n  padding: 0.3rem 0.6rem;\n  border-radius: var(--border-radius-sm);\n  font-size: 0.8rem;\n  display: inline-flex;\n  align-items: center;\n}\n\n.remove-emotion {\n  margin-left: 0.4rem;\n  cursor: pointer;\n  font-weight: bold;\n}\n\n.emotion-input {\n  /* Uses .form-control base styles */\n  flex-grow: 1;\n}\n\n.intensity-slider {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  margin-top: 0.5rem;\n}\n\n.intensity-value {\n  font-weight: bold;\n  color: var(--primary-color);\n  margin-left: 0.5rem;\n  min-width: 40px; /* Prevent layout shift */\n  text-align: right;\n}\n\n.intensity-min,\n.intensity-max {\n  font-size: 0.85rem;\n  color: var(--text-secondary);\n  white-space: nowrap;\n}\n\n.custom-range {\n  flex-grow: 1;\n  -webkit-appearance: none;\n  appearance: none;\n  width: 100%;\n  height: 8px;\n  background: var(--background-medium);\n  outline: none;\n  opacity: 0.9;\n  transition: opacity .15s ease-in-out;\n  border-radius: 4px;\n  cursor: pointer;\n}\n\n.custom-range::-webkit-slider-thumb {\n  -webkit-appearance: none;\n  appearance: none;\n  width: 20px;\n  height: 20px;\n  background: var(--primary-color);\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n.custom-range::-moz-range-thumb {\n  width: 20px;\n  height: 20px;\n  background: var(--primary-color);\n  border-radius: 50%;\n  border: none;\n  cursor: pointer;\n}\n\n.custom-range:hover {\n  opacity: 1;\n}\n\n.form-actions {\n  display: flex;\n  gap: 1rem;\n  justify-content: flex-end;\n  margin-top: 1.5rem;\n}\n\n/* Reuse .btn styles from main.css */\n.submit-btn {\n  /* specific styles if needed */\n}\n\n/* Alert styles from main.css are used */\n.fade-transition {\n  transition: opacity 0.5s ease;\n}\n\n.recent-thoughts {\n  margin-top: 2.5rem;\n}\n\n.subsection-title {\n  margin-bottom: 1rem;\n  font-size: 1.3rem;\n  border-bottom: 2px solid var(--background-medium);\n  padding-bottom: 0.5rem;\n}\n\n.thoughts-list {\n  display: grid;\n  gap: 1rem;\n}\n\n.thought-card {\n  background-color: white;\n  border: 1px solid var(--border-color);\n  border-radius: var(--border-radius-sm);\n  padding: 1rem;\n  cursor: pointer;\n  transition: var(--transition-default);\n  box-shadow: var(--box-shadow-sm);\n}\n\n.thought-card:hover {\n  transform: translateY(-3px);\n  box-shadow: var(--box-shadow-md);\n  border-left: 4px solid var(--primary-color);\n}\n\n.thought-card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.75rem;\n  font-size: 0.85rem;\n  color: var(--text-secondary);\n}\n\n.thought-date {\n  font-weight: 500;\n}\n\n.thought-emotions {\n  display: flex;\n  gap: 0.4rem;\n}\n\n.emotion-badge {\n  background-color: var(--background-medium);\n  color: var(--text-secondary);\n  padding: 0.2rem 0.5rem;\n  border-radius: var(--border-radius-sm);\n  font-size: 0.75rem;\n}\n\n.emotion-more {\n  background-color: var(--background-dark);\n  color: white;\n  padding: 0.2rem 0.4rem;\n  border-radius: 50%;\n  font-size: 0.7rem;\n  display: inline-flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 18px;\n  height: 18px;\n}\n\n.thought-content {\n  margin-bottom: 0.75rem;\n  font-size: 0.95rem;\n  line-height: 1.5;\n  color: var(--text-primary);\n}\n\n.thought-card-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.85rem;\n  color: var(--text-secondary);\n}\n\n.thought-intensity .intensity-badge {\n  font-weight: bold;\n  color: var(--primary-color);\n  background-color: rgba(58, 110, 165, 0.1);\n  padding: 0.2rem 0.5rem;\n  border-radius: var(--border-radius-sm);\n}\n\n.view-analysis {\n  color: var(--primary-color);\n  font-weight: 500;\n}\n\n.required {\n  color: var(--accent-color);\n  font-weight: bold;\n  margin-left: 0.2rem;\n}\n\n/* Responsive adjustments */\n@media (min-width: 768px) {\n  .thought-form {\n    padding: 2rem;\n  }\n\n  .form-actions {\n    justify-content: flex-start; /* Align buttons left on larger screens */\n  }\n  \n  .thoughts-list {\n     /* Adjust grid layout for larger screens if needed */\n     /* e.g., grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); */\n  }\n}\n</style>","import { render } from \"./ThoughtRecord.vue?vue&type=template&id=13f438a3&scoped=true\"\nimport script from \"./ThoughtRecord.vue?vue&type=script&lang=js\"\nexport * from \"./ThoughtRecord.vue?vue&type=script&lang=js\"\n\nimport \"./ThoughtRecord.vue?vue&type=style&index=0&id=13f438a3&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-13f438a3\"]])\n\nexport default __exports__","<template>\n  <div class=\"analysis-container\">\n    <h2 class=\"section-title\">🔍 认知分析</h2>\n    \n    <!-- 历史记录选择器 -->\n    <div class=\"history-selector mb-4\">\n      <div class=\"history-header\">\n        <label for=\"recordSelect\">选择记录:</label>\n        <button class=\"btn btn-sm btn-outline-secondary\" @click=\"showHistoryManager = true\">\n          <span class=\"btn-icon\">📋</span> 管理历史记录\n        </button>\n      </div>\n      <select id=\"recordSelect\" class=\"form-select\" v-model=\"selectedRecordIndex\" @change=\"loadSelectedRecord\">\n        <option v-for=\"(record, index) in $store.state.thoughtRecords\" :key=\"index\" :value=\"index\">\n          {{ formatTimestamp(record.timestamp) }} - {{ truncateText(record.automaticThought, 30) }}\n        </option>\n      </select>\n    </div>\n    \n    <!-- 历史记录管理器弹窗 -->\n    <div class=\"history-manager\" v-if=\"showHistoryManager\">\n      <div class=\"history-manager-content\">\n        <div class=\"history-manager-header\">\n          <h3>管理历史记录</h3>\n          <button class=\"btn-close\" @click=\"showHistoryManager = false\">&times;</button>\n        </div>\n        <div class=\"history-manager-body\">\n          <div class=\"history-list\">\n            <div \n              v-for=\"(record, index) in $store.state.thoughtRecords\" \n              :key=\"index\"\n              class=\"history-item\"\n            >\n              <div class=\"history-item-content\">\n                <div class=\"history-item-date\">{{ formatTimestamp(record.timestamp) }}</div>\n                <div class=\"history-item-thought\">{{ truncateText(record.automaticThought, 60) }}</div>\n                <div class=\"history-item-status\" :class=\"getRecordStatusClass(record)\">\n                  {{ getRecordStatus(record) }}\n                </div>\n              </div>\n              <div class=\"history-item-actions\">\n                <button \n                  class=\"btn btn-sm btn-outline-danger\" \n                  @click=\"deleteRecord(index)\"\n                  title=\"删除记录\"\n                >\n                  🗑️\n                </button>\n              </div>\n            </div>\n            <div class=\"no-records\" v-if=\"$store.state.thoughtRecords.length === 0\">\n              暂无历史记录\n            </div>\n          </div>\n        </div>\n        <div class=\"history-manager-footer\">\n          <button class=\"btn btn-outline-secondary\" @click=\"showHistoryManager = false\">关闭</button>\n        </div>\n      </div>\n    </div>\n    \n    <div class=\"card\" v-if=\"currentRecord\">\n      <!-- 自动思维展示 -->\n      <div class=\"analysis-section\">\n        <h5>📌 你的自动思维</h5>\n        <p class=\"thought-text\">\"{{ currentRecord.automaticThought }}\"</p>\n        \n        <!-- 添加情境描述显示 -->\n        <div class=\"situation-box\" v-if=\"currentRecord.situation\">\n          <h6>🔍 情境描述</h6>\n          <p class=\"situation-text\">{{ currentRecord.situation }}</p>\n        </div>\n        \n        <div class=\"meta-info\">\n          <span class=\"date-tag\">{{ formatTimestamp(currentRecord.timestamp) }}</span>\n          <div class=\"emotion-badges\">\n            <span v-for=\"(emotion, idx) in currentRecord.emotions\" :key=\"idx\" \n                  class=\"emotion-badge\">{{ emotion }}</span>\n          </div>\n        </div>\n      </div>\n\n      <!-- 认知偏差分析 -->\n      <div class=\"analysis-section\">\n        <h5>🧠 识别到的认知偏差</h5>\n        <div class=\"bias-tags\" v-if=\"analysisResult.cognitiveBiases && analysisResult.cognitiveBiases.length > 0\">\n          <span \n            class=\"badge badge-pill\"\n            v-for=\"bias in analysisResult.cognitiveBiases\"\n            :key=\"bias.type\"\n            :style=\"{ backgroundColor: getBiasColor(bias.type) }\"\n            @click=\"selectBias(bias)\"\n          >\n            {{ bias.type }} <span class=\"confidence\">({{ bias.confidence }}%)</span>\n          </span>\n        </div>\n        <div class=\"no-biases\" v-else>\n          <p v-if=\"analyzedOnce\">系统未检测到明显的认知偏差，但这并不意味着思维完全没有问题。\n          请继续浏览下方的引导性问题，思考自己的想法是否存在这些情况：</p>\n          <ul v-if=\"analyzedOnce\" class=\"bias-tips\">\n            <li>你是否在考虑最糟糕的可能性？</li>\n            <li>你是否在用\"非黑即白\"的方式看待情况？</li>\n            <li>你是否从单一事件得出了普遍性结论？</li>\n            <li>你是否用情绪而非事实在做判断？</li>\n            <li>你是否给自己或他人设置了过高标准？</li>\n          </ul>\n          <p v-else>暂未识别到认知偏差，请点击\"开始分析\"进行分析。</p>\n        </div>\n        <div class=\"bias-evidence\" v-if=\"selectedBias\">\n          <div class=\"evidence-header\">\n            <h6>{{ selectedBias.type }} 的识别依据：</h6>\n          </div>\n          <p class=\"evidence-text\">{{ selectedBias.evidence }}</p>\n        </div>\n      </div>\n\n      <!-- 引导性问题 -->\n      <div class=\"analysis-section\">\n        <h5>💡 引导性问题</h5>\n        <ul class=\"question-list\">\n          <li v-for=\"(question, index) in analysisResult.guidingQuestions\" :key=\"index\">\n            {{ question }}\n          </li>\n        </ul>\n        <div class=\"no-questions\" v-if=\"!analysisResult.guidingQuestions || analysisResult.guidingQuestions.length === 0\">\n          暂无引导性问题，请点击\"开始分析\"生成问题。\n        </div>\n      </div>\n\n      <!-- 用户回答输入 -->\n      <div class=\"analysis-section\">\n        <h5>📝 你的思考记录</h5>\n        <textarea\n          class=\"form-control\"\n          rows=\"4\"\n          v-model=\"userResponse\"\n          placeholder=\"请写下你对这些问题的思考...\"\n        ></textarea>\n      </div>\n\n      <!-- 替代想法生成 -->\n      <div class=\"analysis-section\" v-if=\"alternativeThought\">\n        <h5>🌈 建议的替代想法</h5>\n        <p class=\"alternative-thought\">\"{{ alternativeThought }}\"</p>\n        <div class=\"feedback-buttons\">\n          <button \n            class=\"btn btn-success mr-2\"\n            @click=\"saveAlternativeThought\"\n          >\n            👍 保存这个想法\n          </button>\n          <button \n            class=\"btn btn-outline-secondary\"\n            @click=\"generateAlternativeThought\"\n          >\n            🔄 重新生成\n          </button>\n        </div>\n      </div>\n\n      <!-- 分析操作按钮 -->\n      <div class=\"action-buttons\" v-if=\"!isLoading\">\n        <button class=\"btn btn-primary\" @click=\"analyzeThought\">\n          <span class=\"icon\">🧠</span> 开始分析\n        </button>\n      </div>\n\n      <!-- 加载进度条 -->\n      <div class=\"loading-container\" v-if=\"isLoading\">\n        <div class=\"progress\">\n          <div class=\"progress-bar\" \n               :style=\"{ width: `${loadingProgress}%` }\" \n               :class=\"{'progress-bar-animated': isLoading}\">\n            {{ loadingStage }}\n          </div>\n        </div>\n        <p class=\"loading-text\">{{ loadingStage }} ({{ loadingProgress }}%)</p>\n        <p class=\"loading-tips\" v-if=\"loadingTip\">{{ loadingTip }}</p>\n      </div>\n      \n      <!-- 显示API错误信息 -->\n      <div class=\"api-error alert alert-danger\" v-if=\"apiError\">\n        <p><strong>分析过程中发生错误</strong></p>\n        <p>{{ apiError }}</p>\n        <p class=\"mt-2\">\n          <button class=\"btn btn-sm btn-outline-danger\" @click=\"apiError = null\">关闭</button>\n          <router-link to=\"/config\" class=\"btn btn-sm btn-primary ml-2\">检查API设置</router-link>\n        </p>\n      </div>\n    </div>\n\n    <div class=\"alert alert-warning\" v-else>\n      ⚠️ 请先完成至少一条思想记录\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n  data() {\n    return {\n      selectedRecordIndex: 0,\n      currentRecord: null,\n      analysisResult: {\n        cognitiveBiases: [],\n        guidingQuestions: []\n      },\n      userResponse: '',\n      alternativeThought: '',\n      isLoading: false,\n      loadingProgress: 0,\n      loadingStage: '准备分析',\n      loadingTip: '',\n      apiError: null,\n      showHistoryManager: false,\n      selectedBias: null,\n      analyzedOnce: false,\n      loadingTips: [\n        '认知偏差是我们思维中的盲点，识别它们是治疗的第一步...',\n        '苏格拉底式提问帮助我们挑战自己的想法，促进更深入的思考...',\n        '替代性思维不是简单地积极思考，而是寻找更平衡的视角...',\n        '认知行为疗法强调思维、情绪和行为之间的联系...',\n        '改变想法不是一蹴而就的，需要持续的练习和耐心...'\n      ]\n    };\n  },\n  computed: {\n    apiConfig() {\n      return this.$store.state.apiConfig;\n    }\n  },\n  mounted() {\n    // 检查是否有从store传递过来的记录索引\n    if (this.$store.selectedRecordIndex !== undefined) {\n      this.selectedRecordIndex = this.$store.selectedRecordIndex;\n      // 使用完后清除，避免影响后续操作\n      this.$store.selectedRecordIndex = undefined;\n    } else if (this.$store.state.thoughtRecords.length > 0) {\n      this.selectedRecordIndex = 0;\n    }\n    \n    this.loadSelectedRecord();\n  },\n  methods: {\n    formatTimestamp(timestamp) {\n      if (!timestamp) return '未知时间';\n      return new Date(timestamp).toLocaleString('zh-CN', {\n        month: 'short',\n        day: 'numeric',\n        hour: '2-digit',\n        minute: '2-digit'\n      });\n    },\n    \n    truncateText(text, maxLength) {\n      if (!text) return '';\n      return text.length > maxLength ? text.substring(0, maxLength) + '...' : text;\n    },\n    \n    loadSelectedRecord() {\n      if (this.$store.state.thoughtRecords.length === 0) {\n        this.currentRecord = null;\n        return;\n      }\n      \n      const record = this.$store.state.thoughtRecords[this.selectedRecordIndex];\n      this.currentRecord = record;\n      \n      // 如果记录中已经有分析结果和替代想法，则加载它们\n      if (record.analysisResult) {\n        this.analysisResult = record.analysisResult;\n      } else {\n        this.analysisResult = {\n          cognitiveBiases: [],\n          guidingQuestions: []\n        };\n      }\n      \n      if (record.userResponse) {\n        this.userResponse = record.userResponse;\n      } else {\n        this.userResponse = '';\n      }\n      \n      this.alternativeThought = record.alternativeThought || '';\n      this.selectedBias = null;\n    },\n    \n    getBiasColor(biasType) {\n      const colors = {\n        '灾难化': '#ff6b6b',\n        '非黑即白': '#4ecdc4',\n        '过度概括': '#45b7d1',\n        '情绪推理': '#96ceb4',\n        '应该陈述': '#ffeead',\n        '心理过滤': '#ffb347',\n        '个人化': '#c06c84',\n        '控制谬误': '#7579e7',\n        '贴标签': '#84b1ed',\n        '读心术': '#d183c9'\n      };\n      return colors[biasType] || '#6c757d';\n    },\n    \n    selectBias(bias) {\n      if (this.selectedBias === bias) {\n        this.selectedBias = null;\n      } else {\n        this.selectedBias = bias;\n      }\n    },\n    \n    getRecordStatus(record) {\n      if (record.alternativeThought) {\n        return '已完成分析';\n      } else if (record.analysisResult && record.analysisResult.cognitiveBiases) {\n        return '分析进行中';\n      } else {\n        return '待分析';\n      }\n    },\n    \n    getRecordStatusClass(record) {\n      if (record.alternativeThought) {\n        return 'status-completed';\n      } else if (record.analysisResult && record.analysisResult.cognitiveBiases) {\n        return 'status-progress';\n      } else {\n        return 'status-pending';\n      }\n    },\n    \n    deleteRecord(index) {\n      if (confirm('确定要删除这条记录吗？删除后无法恢复。')) {\n        this.$store.state.thoughtRecords.splice(index, 1);\n        this.$store.saveState();\n        \n        // 如果删除的是当前选中的记录，重新加载\n        if (this.selectedRecordIndex === index) {\n          this.selectedRecordIndex = 0;\n          this.loadSelectedRecord();\n        } \n        // 如果删除的记录索引小于当前选中的索引，需要调整选中索引\n        else if (this.selectedRecordIndex > index) {\n          this.selectedRecordIndex--;\n        }\n      }\n    },\n\n    async analyzeThought() {\n      this.isLoading = true;\n      this.loadingProgress = 0;\n      this.loadingStage = '初始化分析';\n      this.apiError = null;\n      this.loadingTip = this.getRandomTip();\n      \n      try {\n        // 第一步：识别认知偏差\n        this.loadingStage = '识别认知偏差';\n        this.loadingProgress = 25;\n        this.loadingTip = this.getRandomTip();\n        const biasResponse = await this.callLLM(this.getBiasPrompt());\n        this.analysisResult.cognitiveBiases = this.parseBiasResponse(biasResponse);\n        this.analyzedOnce = true;\n\n        // 第二步：生成引导问题\n        this.loadingStage = '生成引导问题';\n        this.loadingProgress = 50;\n        this.loadingTip = this.getRandomTip();\n        const questionsResponse = await this.callLLM(this.getQuestionPrompt());\n        this.analysisResult.guidingQuestions = this.parseQuestionResponse(questionsResponse);\n\n        // 保存用户回应\n        this.$store.state.thoughtRecords[this.selectedRecordIndex].userResponse = this.userResponse;\n        \n        // 保存分析结果\n        this.$store.state.thoughtRecords[this.selectedRecordIndex].analysisResult = this.analysisResult;\n        this.$store.saveState();\n\n        // 第三步：生成初始替代想法\n        this.loadingStage = '生成替代想法';\n        this.loadingProgress = 75;\n        this.loadingTip = this.getRandomTip();\n        await this.generateAlternativeThought();\n        \n      } catch (error) {\n        console.error('分析失败:', error);\n        this.apiError = error.message || '分析过程中发生未知错误，请重试';\n      } finally {\n        this.loadingProgress = 100;\n        this.loadingStage = '分析完成';\n        this.loadingTip = null;\n        setTimeout(() => {\n        this.isLoading = false;\n        }, 500);\n      }\n    },\n\n    async generateAlternativeThought() {\n      if (!this.isLoading) {\n      this.isLoading = true;\n        this.loadingProgress = 0;\n        this.loadingStage = '生成替代想法';\n      }\n      \n      try {\n        this.loadingProgress = 50;\n        const response = await this.callLLM(this.getAlternativeThoughtPrompt());\n        this.alternativeThought = response.choices[0].message.content;\n        this.loadingProgress = 100;\n      } catch (error) {\n        console.error('生成替代想法失败:', error);\n      } finally {\n        setTimeout(() => {\n        this.isLoading = false;\n        }, 500);\n      }\n    },\n\n    async callLLM(prompt) {\n      try {\n        // 不再需要 Authorization header，由代理处理\n      const headers = {\n        'Content-Type': 'application/json'\n      };\n\n        // 请求代理服务的端点\n        const proxyEndpoint = '/api/llm-proxy'; \n\n        // 数据只包含 prompt\n      const data = {\n          prompt: prompt\n        };\n\n        console.log(`正在调用代理服务: ${proxyEndpoint}`);\n        \n        // 调用代理服务\n        const response = await axios.post(proxyEndpoint, data, { \n          headers,\n          timeout: 45000 // 可以适当增加超时时间，因为涉及两次网络请求\n        });\n        \n        return response.data; // 代理会直接返回 LLM API 的原始响应数据结构\n\n      } catch (error) {\n        console.error('调用代理服务失败:', error);\n        if (error.response) {\n          console.error('代理服务响应:', error.response.data);\n          // 尝试从代理的错误响应中提取更具体的信息\n          const errorMessage = error.response.data?.error || \n                              (error.response.data?.details ? `代理错误: ${error.response.data.details}` : \n                              `代理服务返回错误: ${error.response.status}`);\n          throw new Error(errorMessage);\n        } else if (error.request) {\n          throw new Error('未收到代理服务响应，请检查网络连接或稍后重试');\n        } else {\n          throw new Error(`请求配置错误: ${error.message}`);\n        }\n      }\n    },\n\n    getBiasPrompt() {\n      // 构建提示词，包含情境描述（如果有）\n      let prompt = `请作为一名专业的认知行为治疗师，仔细分析以下内容中可能存在的认知偏差。\n  \n认知偏差是人们在思考过程中出现的系统性错误或模式，往往导致非理性判断和决策。`;\n\n      if (this.currentRecord.situation) {\n        prompt += `\\n\\n情境描述：${this.currentRecord.situation}`;\n      }\n      \n      prompt += `\\n\\n自动思维：\"${this.currentRecord.automaticThought}\"`;\n      \n      if (this.currentRecord.emotions && this.currentRecord.emotions.length > 0) {\n        prompt += `\\n\\n伴随情绪：${this.currentRecord.emotions.join('、')}（强度：${this.currentRecord.intensity}%）`;\n      }\n      \n      prompt += `\\n\\n请识别出上述内容中存在的认知偏差，并严格按照以下JSON格式返回（不要有任何额外文字）：\n{\n  \"biases\": [\n    {\n      \"type\": \"偏差类型名称\",\n      \"confidence\": 置信度百分比（例如85，不要带%符号）,\n      \"evidence\": \"详细说明为什么这属于该种偏差的文本依据\"\n    }\n  ]\n}\n\n常见的认知偏差类型包括：\n1. 灾难化：过分夸大负面事件的后果\n2. 非黑即白：将事物简化为两个极端类别\n3. 过度概括：从单一事件中得出普遍结论\n4. 情绪推理：根据情绪状态而非客观事实做判断\n5. 应该陈述：用刚性的规则要求自己或他人\n6. 心理过滤：只关注负面细节而忽视积极方面\n7. 个人化：不合理地将外部事件归因于自己\n8. 控制谬误：认为应当能控制所有事情\n9. 贴标签：用简单标签概括复杂情况\n10. 读心术：假设知道他人的想法或感受\n\n如果没有发现明显的认知偏差，请返回空数组：{\"biases\": []}`;\n\n      return prompt;\n    },\n\n    getQuestionPrompt() {\n      // 构建提示词，包含情境描述（如果有）\n      let prompt = `作为一名专业的认知行为治疗师，请针对以下内容设计3个有效的苏格拉底式引导问题，帮助当事人质疑和挑战自己的思维模式。`;\n      \n      if (this.currentRecord.situation) {\n        prompt += `\\n\\n情境描述：${this.currentRecord.situation}`;\n      }\n      \n      prompt += `\\n\\n自动思维：\"${this.currentRecord.automaticThought}\"`;\n      \n      if (this.currentRecord.emotions && this.currentRecord.emotions.length > 0) {\n        prompt += `\\n\\n伴随情绪：${this.currentRecord.emotions.join('、')}`;\n      }\n      \n      // 如果有分析结果，将偏差信息也包含进来\n      if (this.analysisResult.cognitiveBiases && this.analysisResult.cognitiveBiases.length > 0) {\n        prompt += `\\n\\n识别到的认知偏差：${this.analysisResult.cognitiveBiases.map(b => b.type).join('、')}`;\n      }\n      \n      prompt += `\\n\\n请设计3个开放式的苏格拉底式问题，这些问题应该：\n1. 鼓励深度思考而非简单的是/否回答\n2. 帮助挑战非理性信念\n3. 引导探索替代性解释\n4. 使用温和而尊重的语气\n5. 针对当事人的具体情况而非泛泛而谈\n\n请只返回问题本身的JSON数组格式（不要有任何额外说明）：\n[\"问题1\", \"问题2\", \"问题3\"]`;\n\n      return prompt;\n    },\n\n    getAlternativeThoughtPrompt() {\n      // 构建提示词，包含情境描述（如果有）\n      let prompt = `作为一名认知行为治疗师，请根据以下信息，生成一个更加平衡、理性的替代思维。`;\n      \n      if (this.currentRecord.situation) {\n        prompt += `\\n\\n情境描述：${this.currentRecord.situation}`;\n      }\n      \n      prompt += `\\n\\n原始自动思维：\"${this.currentRecord.automaticThought}\"`;\n      \n      if (this.currentRecord.emotions && this.currentRecord.emotions.length > 0) {\n        prompt += `\\n\\n伴随情绪：${this.currentRecord.emotions.join('、')}`;\n      }\n      \n      // 如果有分析结果，将偏差信息也包含进来\n      if (this.analysisResult.cognitiveBiases && this.analysisResult.cognitiveBiases.length > 0) {\n        prompt += `\\n\\n识别到的认知偏差：${this.analysisResult.cognitiveBiases.map(b => b.type).join('、')}`;\n      }\n      \n      prompt += `\\n\\n用户对引导问题的思考：${this.userResponse || '(用户尚未填写)'}`;\n      \n      prompt += `\\n\\n请生成一个更加平衡和理性的替代思维，应该：\n1. 用第一人称表达，就像当事人自己在说话\n2. 使用口语化、自然的中文表达\n3. 保持温暖、支持和鼓励的语气\n4. 承认事实，但提供更加平衡和有建设性的视角\n5. 长度适中，通常为2-4句话\n\n请直接返回替代思维内容，不要包含任何额外的解释或说明。`;\n\n      return prompt;\n    },\n\n    parseBiasResponse(response) {\n      try {\n        const content = response.choices[0].message.content;\n        // 尝试解析JSON格式\n        try {\n          const parsed = JSON.parse(content);\n          if (parsed && parsed.biases) {\n            return parsed.biases;\n          }\n        } catch (jsonError) {\n          console.error('解析偏差JSON失败:', jsonError);\n          // 如果解析失败，尝试使用正则表达式提取JSON部分\n          const jsonMatch = content.match(/\\{[\\s\\S]*\\}/);\n          if (jsonMatch) {\n            try {\n              const extractedJson = JSON.parse(jsonMatch[0]);\n              if (extractedJson && extractedJson.biases) {\n                return extractedJson.biases;\n              }\n      } catch (e) {\n              console.error('提取JSON后解析仍然失败:', e);\n            }\n          }\n        }\n        \n        // 如果上述方法都失败，返回空数组\n        console.warn('无法从LLM响应中解析出认知偏差数据，原始响应:', content);\n        return [];\n      } catch (error) {\n        console.error('解析偏差响应失败:', error);\n        return [];\n      }\n    },\n\n    parseQuestionResponse(response) {\n      try {\n        const content = response.choices[0].message.content;\n        // 尝试直接解析JSON\n        try {\n          const questions = JSON.parse(content);\n          if (Array.isArray(questions)) {\n            return questions;\n          }\n        } catch (jsonError) {\n          console.error('解析问题JSON失败:', jsonError);\n          // 尝试提取JSON数组部分\n          const arrayMatch = content.match(/\\[[\\s\\S]*\\]/);\n          if (arrayMatch) {\n            try {\n              const extractedArray = JSON.parse(arrayMatch[0]);\n              if (Array.isArray(extractedArray)) {\n                return extractedArray;\n              }\n      } catch (e) {\n              console.error('提取数组后解析仍然失败:', e);\n            }\n          }\n        }\n        \n        // 如果无法解析为JSON，尝试基于行分割\n        if (content.includes('\\n')) {\n          const lines = content.split('\\n').filter(line => \n            line.trim() && !line.startsWith('[') && !line.startsWith(']') && !line.startsWith('```')\n          );\n          if (lines.length > 0) {\n            return lines.map(line => line.replace(/^[0-9]+[\\.\\)]\\s*/, '').trim()).filter(q => q);\n          }\n        }\n        \n        console.warn('无法从LLM响应中解析出问题数据，原始响应:', content);\n        return [];\n      } catch (error) {\n        console.error('解析问题响应失败:', error);\n        return [];\n      }\n    },\n\n    saveAlternativeThought() {\n      this.$store.state.thoughtRecords[this.selectedRecordIndex].alternativeThought = this.alternativeThought;\n      this.$store.state.thoughtRecords[this.selectedRecordIndex].userResponse = this.userResponse;\n      this.$store.saveState();\n      alert('替代想法已保存！');\n    },\n\n    getRandomTip() {\n      return this.loadingTips[Math.floor(Math.random() * this.loadingTips.length)];\n    }\n  }\n};\n</script>\n\n<style scoped>\n.analysis-container {\n  max-width: 800px;\n  margin: 1rem auto;\n  padding: 0 1rem;\n}\n\n.section-title {\n  text-align: center;\n  margin-bottom: 1.5rem;\n  /* Use heading styles from main.css */\n}\n\n.history-selector {\n  background: white;\n  padding: 1rem;\n  border-radius: var(--border-radius-md);\n  box-shadow: var(--box-shadow-sm);\n  margin-bottom: 1.5rem; /* Use utility mb-3 or mb-4 if preferred */\n}\n\n.history-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 0.5rem;\n  flex-wrap: wrap; /* Allow wrap on small screens */\n  gap: 0.5rem;\n}\n\n.history-header label {\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n/* form-select is handled globally */\n\n/* History Manager Modal Styles */\n.history-manager {\n  position: fixed;\n  inset: 0;\n  background: rgba(0,0,0,0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1001; /* Ensure above header */\n  padding: 1rem;\n}\n\n.history-manager-content {\n  background: white;\n  border-radius: var(--border-radius-md);\n  width: 100%;\n  max-width: 600px;\n  max-height: 85vh;\n  display: flex;\n  flex-direction: column;\n  box-shadow: var(--box-shadow-md);\n  overflow: hidden;\n}\n\n.history-manager-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1rem 1.5rem;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.history-manager-header h3 {\n  margin: 0;\n  color: var(--primary-color);\n  /* Use h3 styles from main.css */\n}\n\n.btn-close {\n  background: none;\n  border: none;\n  font-size: 1.8rem;\n  cursor: pointer;\n  color: var(--text-secondary);\n  padding: 0.2rem 0.5rem;\n  line-height: 1;\n}\n.btn-close:hover {\n  color: var(--text-primary);\n}\n\n.history-manager-body {\n  flex: 1;\n  overflow-y: auto;\n  padding: 1rem 1.5rem;\n}\n\n.history-list {\n  display: flex;\n  flex-direction: column;\n  gap: 0.75rem;\n}\n\n.history-item {\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  background: var(--background-light);\n  border-radius: var(--border-radius-sm);\n  padding: 0.8rem 1rem;\n  border: 1px solid var(--border-color);\n  transition: var(--transition-default);\n}\n\n.history-item:hover {\n  background: var(--background-medium);\n  border-color: var(--primary-color);\n}\n\n.history-item-content {\n  flex: 1;\n  overflow: hidden; /* Prevent long text pushing out button */\n}\n\n.history-item-date {\n  font-size: 0.8rem;\n  color: var(--text-secondary);\n  margin-bottom: 0.25rem;\n}\n\n.history-item-thought {\n  margin-bottom: 0.25rem;\n  color: var(--text-primary);\n  overflow-wrap: break-word;\n  word-break: break-word;\n  white-space: pre-wrap;\n}\n\n.history-item-status {\n  display: inline-block;\n  padding: 0.15rem 0.6rem;\n  border-radius: 10px;\n  font-size: 0.75rem;\n  font-weight: 500;\n  margin-top: 0.25rem;\n}\n\n.status-completed {\n  background: rgba(66, 184, 131, 0.15);\n  color: #2a9d62;\n}\n\n.status-progress {\n  background: rgba(255, 193, 7, 0.15);\n  color: #b98900;\n}\n\n.status-pending {\n  background: rgba(44, 62, 80, 0.1);\n  color: var(--text-secondary);\n}\n\n.history-item-actions {\n  display: flex;\n}\n\n/* btn-sm, btn-outline-danger handled globally */\n\n.no-records {\n  text-align: center;\n  padding: 2rem;\n  color: var(--text-secondary);\n  font-style: italic;\n}\n\n.history-manager-footer {\n  padding: 1rem 1.5rem;\n  border-top: 1px solid var(--border-color);\n  text-align: right;\n}\n\n/* Use .card base styles for the main analysis area */\n.card {\n  margin-bottom: 1.5rem;\n}\n\n.analysis-section {\n  padding: 1.5rem;\n  margin-bottom: 1.5rem;\n  /* Remove redundant background, shadow, border - handled by .card */\n  /* Keep specific margin/padding if needed, or remove if .card padding is sufficient */\n}\n.analysis-section:last-child {\n  margin-bottom: 0;\n  padding-bottom: 0; /* Adjust if buttons inside need padding */\n}\n\n.analysis-section h5 {\n  margin-bottom: 1rem;\n  /* Use h5 styles from main.css */\n}\n\n.thought-text {\n  font-size: 1.1rem; /* Base size, adjusted by media query in main.css */\n  font-style: italic;\n  margin-bottom: 0.5rem;\n  overflow-wrap: break-word;\n  word-break: break-word;\n  white-space: pre-wrap;\n}\n\n.situation-box {\n  background-color: rgba(58, 110, 165, 0.05);\n  border-radius: var(--border-radius-sm);\n  padding: 0.8rem 1rem;\n  margin: 1rem 0;\n  border-left: 3px solid var(--primary-color);\n}\n\n.situation-box h6 {\n  /* Use h6 styles from main.css */\n  color: var(--primary-color);\n  margin-bottom: 0.4rem;\n}\n\n.situation-text {\n  font-size: 0.95rem; /* Base size */\n  color: var(--text-secondary);\n  margin: 0;\n  line-height: 1.5;\n  overflow-wrap: break-word;\n  word-break: break-word;\n  white-space: pre-wrap;\n}\n\n.meta-info {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 1rem;\n  font-size: 0.85rem;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n}\n\n.date-tag {\n  background-color: var(--background-medium);\n  padding: 0.2rem 0.5rem;\n  border-radius: var(--border-radius-sm);\n  color: var(--text-secondary);\n}\n\n.emotion-badges {\n  display: flex;\n  gap: 0.4rem;\n  flex-wrap: wrap;\n}\n\n.emotion-badge {\n  background-color: var(--background-medium);\n  color: var(--text-secondary);\n  padding: 0.2rem 0.6rem;\n  border-radius: 10px;\n  font-size: 0.8rem;\n}\n\n.bias-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 0.6rem;\n  margin-top: 1rem;\n}\n\n.badge {\n  color: white;\n  padding: 0.4rem 0.8rem;\n  font-size: 0.9rem;\n  border-radius: 15px;\n  box-shadow: var(--box-shadow-sm);\n  cursor: pointer;\n  transition: var(--transition-default);\n}\n\n.badge:hover {\n  transform: translateY(-2px);\n  box-shadow: 0 3px 6px rgba(0,0,0,0.1);\n}\n\n.confidence {\n  font-size: 0.75rem;\n  opacity: 0.9;\n  margin-left: 0.2rem;\n}\n\n.no-biases,\n.no-questions {\n  /* Consider using .alert .alert-info from main.css */\n  text-align: center;\n  padding: 1rem;\n  color: var(--text-secondary);\n  background-color: var(--background-light);\n  border: 1px dashed var(--border-color);\n  border-radius: var(--border-radius-sm);\n  margin-top: 1rem;\n  font-style: italic;\n  font-size: 0.9rem;\n}\n.no-biases ul.bias-tips {\n  list-style: inside;\n  padding-left: 0;\n  margin-top: 0.5rem;\n  text-align: left;\n  font-style: normal;\n}\n.no-biases ul.bias-tips li {\n  margin-bottom: 0.3rem;\n}\n\n.bias-evidence {\n  margin-top: 1rem;\n  padding: 1rem;\n  background-color: var(--background-light);\n  border-radius: var(--border-radius-sm);\n  border-left: 3px solid var(--secondary-color);\n}\n\n.evidence-header h6 {\n  margin: 0 0 0.5rem 0;\n  color: var(--primary-color);\n  /* Use h6 styles from main.css */\n}\n\n.evidence-text {\n  margin: 0;\n  font-style: italic;\n  color: var(--text-secondary);\n  overflow-wrap: break-word;\n  word-break: break-word;\n  white-space: pre-wrap;\n}\n\n.question-list {\n  list-style-type: none;\n  padding-left: 0;\n  margin: 0;\n}\n\n.question-list li {\n  padding: 0.8rem 1rem;\n  margin-bottom: 0.75rem;\n  background-color: var(--background-light);\n  border-radius: var(--border-radius-sm);\n  border-left: 3px solid var(--secondary-color);\n  transition: var(--transition-default);\n  overflow-wrap: break-word;\n  word-break: break-word;\n}\n\n.question-list li:hover {\n  background-color: var(--background-medium);\n}\n\n/* form-control for textarea handled globally */\n\n.alternative-thought {\n  font-size: 1.1rem; /* Base size */\n  color: var(--secondary-color);\n  font-weight: 500;\n  padding: 1rem;\n  background: rgba(66, 184, 131, 0.05);\n  border-radius: var(--border-radius-sm);\n  border-left: 3px solid var(--secondary-color);\n  overflow-wrap: break-word;\n  word-break: break-word;\n  white-space: pre-wrap;\n  margin-bottom: 1rem; /* Add space before feedback buttons */\n}\n\n.feedback-buttons {\n  margin-top: 1rem;\n  display: flex;\n  flex-wrap: wrap; /* Allow wrap on small screens */\n  gap: 0.75rem;\n}\n\n/* .btn, .btn-success, .btn-outline-secondary handled globally */\n\n.action-buttons {\n  text-align: center;\n  margin: 1.5rem 0;\n}\n\n/* Loading Indicator */\n.loading-container {\n  margin: 2rem 0;\n  text-align: center;\n}\n\n.progress {\n  height: 1rem;\n  border-radius: var(--border-radius-sm);\n  background-color: var(--background-medium);\n  margin-bottom: 0.75rem;\n  overflow: hidden;\n}\n\n.progress-bar {\n  background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));\n  color: white;\n  text-align: center;\n  font-size: 0.75rem;\n  line-height: 1rem;\n  transition: width 0.6s ease;\n  white-space: nowrap;\n}\n\n.progress-bar-animated {\n  animation: pulse 1.5s ease-in-out infinite;\n  background-size: 200% 200%;\n  background-image: linear-gradient(\n    45deg,\n    var(--primary-color) 0%,\n    var(--secondary-color) 25%,\n    var(--primary-color) 50%,\n    var(--secondary-color) 75%,\n    var(--primary-color) 100%\n  );\n}\n\n@keyframes pulse {\n  0% { background-position: 0% 50%; }\n  50% { background-position: 100% 50%; }\n  100% { background-position: 0% 50%; }\n}\n\n.loading-text {\n  color: var(--text-secondary);\n  font-size: 0.9rem;\n}\n\n.loading-tips {\n  font-style: italic;\n  color: var(--text-secondary);\n  margin-top: 0.5rem;\n  font-size: 0.85rem;\n}\n\n/* .api-error uses .alert .alert-danger from main.css */\n.api-error p {\n  margin-bottom: 0.5rem;\n}\n.api-error p:last-child {\n  margin-bottom: 0;\n}\n.api-error .btn-sm {\n  margin-right: 0.5rem;\n}\n\n.ml-2 { /* Replaced with gap or specific margins */\n  /* margin-left: 0.5rem; */\n}\n\n/* Remove old media queries, rely on base responsive styles + component flex/grid wrap */\n</style>","import { render } from \"./CognitiveAnalysis.vue?vue&type=template&id=d1a01a10&scoped=true\"\nimport script from \"./CognitiveAnalysis.vue?vue&type=script&lang=js\"\nexport * from \"./CognitiveAnalysis.vue?vue&type=script&lang=js\"\n\nimport \"./CognitiveAnalysis.vue?vue&type=style&index=0&id=d1a01a10&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-d1a01a10\"]])\n\nexport default __exports__","<template>\n  <div class=\"dashboard\">\n    <header class=\"welcome-header\">\n      <h1>{{ t('dashboard.welcome') }}</h1>\n      <p class=\"last-record\" v-if=\"latestRecord\">\n        {{ t('dashboard.lastRecordPrefix') }}{{ formatDate(latestRecord.timestamp) }}\n      </p>\n    </header>\n\n    <section class=\"dashboard-grid stats-section\">\n      <div class=\"stat-card total-records\">\n        <div class=\"stat-icon\">📊</div>\n        <div class=\"stat-content\">\n          <h4>{{ t('dashboard.statTotalRecords') }}</h4>\n          <div class=\"stat-number\">{{ totalRecordsCount }}</div>\n        </div>\n      </div>\n      \n      <div class=\"stat-card analyzed-records\">\n        <div class=\"stat-icon\">🧠</div>\n        <div class=\"stat-content\">\n          <h4>{{ t('dashboard.statAnalyzedRecords') }}</h4>\n          <div class=\"stat-number\">{{ analyzedRecordsCount }}</div>\n        </div>\n      </div>\n      \n      <div class=\"stat-card mood-trend\">\n        <div class=\"stat-icon\">😊</div>\n        <div class=\"stat-content\">\n          <h4>{{ t('dashboard.statMoodTrend') }}</h4>\n          <div class=\"trend-indicator\" :class=\"moodTrend.class\">\n            {{ moodTrend.label }}\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"dashboard-grid actions-section\">\n      <router-link \n        to=\"/record\" \n        class=\"action-card new-record\"\n      >\n        <div class=\"action-content\">\n          <span class=\"icon\">📝</span>\n          <h3>{{ t('dashboard.actionNewRecord') }}</h3>\n          <p class=\"action-desc\">{{ t('dashboard.actionNewRecordDesc') }}</p>\n        </div>\n      </router-link>\n\n      <router-link \n        to=\"/analysis\" \n        class=\"action-card view-analysis\"\n        :class=\"{ disabled: !hasRecords }\"\n      >\n        <div class=\"action-content\">\n          <span class=\"icon\">🔍</span>\n          <h3>{{ t('dashboard.actionViewAnalysis') }}</h3>\n          <p class=\"action-desc\">{{ analysisSummaryText }}</p>\n        </div>\n      </router-link>\n    </section>\n\n    <section class=\"recent-records\" v-if=\"hasRecords\">\n      <h2 class=\"section-title\">{{ t('dashboard.recentRecordsTitle') }}</h2>\n      <div class=\"dashboard-grid records-section\">\n        <div \n          v-for=\"(record, index) in recentRecords\" \n          :key=\"index\"\n          class=\"record-card\"\n          @click=\"goToAnalysis(index)\"\n        >\n          <div class=\"record-header\">\n            <div class=\"record-date\">{{ formatDate(record.timestamp) }}</div>\n            <div class=\"record-emotions\">\n              <span \n                v-for=\"(emotion, idx) in record.emotions.slice(0, 2)\" \n                :key=\"idx\"\n                class=\"emotion-tag\"\n              >\n                {{ translateEmotion(emotion) }}\n              </span>\n              <span v-if=\"record.emotions.length > 2\" class=\"emotion-more\">+{{ record.emotions.length - 2 }}</span>\n            </div>\n          </div>\n          <div class=\"record-thought\">{{ truncateText(record.automaticThought, 80) }}</div>\n          <div class=\"record-status\" :class=\"getRecordStatusClass(record)\">\n            {{ getRecordStatusLabel(record) }}\n          </div>\n        </div>\n      </div>\n    </section>\n\n    <section class=\"dashboard-grid charts-section\">\n      <div class=\"chart-card emotion-stats\">\n        <div class=\"chart-card-header\">\n          <h5><span class=\"stat-icon-small\">📊</span> {{ t('dashboard.chartEmotionTitle') }}</h5>\n          <div class=\"stat-card-actions\" v-if=\"hasRecords\">\n            <div class=\"emotion-count-badge\">{{ emotionCountText }}</div>\n          </div>\n        </div>\n\n        <div class=\"chart-content emotion-chart\" v-if=\"Object.keys(emotionDistribution).length > 0\">\n          <div \n            v-for=\"(count, emotion) in sortedEmotions\"\n            :key=\"emotion\"\n            class=\"chart-item\"\n          >\n            <div class=\"chart-label\">\n              <span class=\"emotion-emoji\">{{ getEmotionEmoji(emotion) }}</span>\n              <span class=\"emotion-name\">{{ translateEmotion(emotion) }}</span>\n            </div>\n            <div class=\"chart-bar-container\">\n              <div \n                class=\"chart-bar\"\n                :style=\"{ width: `${(count / maxEmotionCount) * 100}%` }\"\n              ></div>\n              <span class=\"chart-value\">{{ count }}</span>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"no-data\" v-else>\n          {{ t('dashboard.chartEmotionEmpty') }}\n        </div>\n      </div>\n\n      <div class=\"chart-card bias-stats\">\n        <div class=\"chart-card-header\">\n          <h5><span class=\"stat-icon-small\">⚠️</span> {{ t('dashboard.chartBiasTitle') }}</h5>\n          <div class=\"stat-card-actions\" v-if=\"topBiases.length > 0\">\n            <div class=\"bias-count-badge\">{{ biasCountText }}</div>\n          </div>\n        </div>\n        \n        <div class=\"chart-content bias-chart\" v-if=\"topBiases.length > 0\">\n          <div \n            v-for=\"(bias, index) in topBiases\" \n            :key=\"index\"\n            class=\"chart-item\"\n          >\n            <div class=\"chart-label\">\n              <span class=\"bias-icon\" :style=\"{ backgroundColor: getBiasColor(bias.type) }\"></span>\n              <span class=\"bias-name\">{{ translateBias(bias.type) }}</span>\n            </div>\n            <div class=\"chart-bar-container\">\n              <div \n                class=\"chart-bar bias-bar\"\n                :style=\"{ \n                  width: `${(bias.count / maxBiasCount) * 100}%`,\n                  background: `linear-gradient(to right, ${getBiasColorLight(bias.type)}, ${getBiasColor(bias.type)})`\n                }\"\n              ></div>\n              <span class=\"chart-value\">{{ bias.count }}</span>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"no-data\" v-else>\n          {{ t('dashboard.chartBiasEmpty') }}\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script setup>\nimport { computed, inject } from 'vue';\nimport { useI18n } from 'vue-i18n';\nimport { useRouter } from 'vue-router';\n\nconst { t } = useI18n();\nconst store = inject('store');\nconst router = useRouter();\n\nconst totalRecordsCount = computed(() => store.state.thoughtRecords.length);\n\nconst latestRecord = computed(() => store.state.thoughtRecords[0]);\nconst hasRecords = computed(() => totalRecordsCount.value > 0);\nconst analyzedRecordsCount = computed(() =>\n  store.state.thoughtRecords.filter(record => record.alternativeThought).length\n);\nconst recentRecords = computed(() => store.state.thoughtRecords.slice(0, 3));\n\nconst analysisSummaryText = computed(() => {\n  const count = totalRecordsCount.value;\n  return hasRecords.value\n    ? t('dashboard.analysisSummary', { count })\n    : t('dashboard.analysisPrompt');\n});\n\nconst moodTrend = computed(() => {\n  const records = store.state.thoughtRecords.slice(0, 5);\n  if (records.length < 2) {\n    return { label: t('dashboard.trendInsufficientData'), class: 'neutral' };\n  }\n  const recentAvg = records.slice(0, Math.ceil(records.length / 2))\n    .reduce((sum, r) => sum + (r.intensity || 50), 0) / Math.ceil(records.length / 2);\n  const earlierAvg = records.slice(Math.ceil(records.length / 2))\n    .reduce((sum, r) => sum + (r.intensity || 50), 0) / Math.floor(records.length / 2);\n  const diff = recentAvg - earlierAvg;\n  if (diff < -5) return { label: t('dashboard.trendImproving'), class: 'positive' };\n  if (diff > 5) return { label: t('dashboard.trendFluctuating'), class: 'negative' };\n  return { label: t('dashboard.trendStable'), class: 'neutral' };\n});\n\nconst emotionDistribution = computed(() => {\n  const emotions = store.state.thoughtRecords\n    .flatMap(record => record.emotions || []);\n  return emotions.reduce((acc, emotion) => {\n    acc[emotion] = (acc[emotion] || 0) + 1;\n    return acc;\n  }, {});\n});\nconst maxEmotionCount = computed(() => Math.max(...Object.values(emotionDistribution.value || {}), 1));\nconst sortedEmotions = computed(() => {\n  return Object.entries(emotionDistribution.value)\n    .sort((a, b) => b[1] - a[1])\n    .reduce((obj, [key, value]) => {\n      obj[key] = value;\n      return obj;\n    }, {});\n});\nconst emotionCountText = computed(() => \n  t('dashboard.chartEmotionCount', { count: Object.keys(emotionDistribution.value).length })\n);\n\nconst topBiases = computed(() => {\n  const biases = store.state.thoughtRecords\n    .flatMap(record => (record.analysisResult || {}).cognitiveBiases || [])\n    .map(bias => bias.type);\n\n  return Object.entries(\n    biases.reduce((acc, type) => {\n      acc[type] = (acc[type] || 0) + 1;\n      return acc;\n    }, {})\n  )\n    .sort((a, b) => b[1] - a[1])\n    .slice(0, 5)\n    .map(([type, count]) => ({ type, count }));\n});\nconst maxBiasCount = computed(() => {\n  return topBiases.value.length > 0\n    ? Math.max(...topBiases.value.map(b => b.count), 1)\n    : 1;\n});\nconst getBiasesTotal = () => {\n  return topBiases.value.reduce((sum, bias) => sum + bias.count, 0);\n};\nconst biasCountText = computed(() => \n  t('dashboard.chartBiasCount', { count: getBiasesTotal() })\n);\n\nconst formatDate = (isoString) => {\n  if (!isoString) return t('dashboard.unknownTime');\n  return new Date(isoString).toLocaleDateString('zh-CN', {\n    month: 'short',\n    day: 'numeric',\n    hour: '2-digit',\n    minute: '2-digit'\n  });\n};\n\nconst truncateText = (text, length) => {\n  if (!text) return '';\n  return text.length > length ? text.slice(0, length) + '...' : text;\n};\n\nconst getRecordStatusLabel = (record) => {\n  if (record.alternativeThought) {\n    return t('dashboard.statusCompleted');\n  } else if (record.analysisResult &&\n    ((record.analysisResult.cognitiveBiases && record.analysisResult.cognitiveBiases.length > 0) ||\n      (record.analysisResult.guidingQuestions && record.analysisResult.guidingQuestions.length > 0))) {\n    return t('dashboard.statusInProgress');\n  } else {\n    return t('dashboard.statusPending');\n  }\n};\n\nconst getRecordStatusClass = (record) => {\n  if (record.alternativeThought) {\n    return 'status-completed';\n  } else if (record.analysisResult &&\n    ((record.analysisResult.cognitiveBiases && record.analysisResult.cognitiveBiases.length > 0) ||\n      (record.analysisResult.guidingQuestions && record.analysisResult.guidingQuestions.length > 0))) {\n    return 'status-progress';\n  } else {\n    return 'status-pending';\n  }\n};\n\nconst goToAnalysis = (index) => {\n  store.selectedRecordIndex = index;\n  router.push('/analysis');\n};\n\nconst getEmotionEmoji = (emotion) => {\n  const emojis = {\n    '焦虑': '😰', '沮丧': '😔', '愤怒': '😠', '悲伤': '😢', '羞愧': '😳',\n    '兴奋': '😃', '平静': '😌', '恐惧': '😨', '失落': '😞', '担忧': '😟',\n    '自责': '😓', '困惑': '🤔', '无助': '🥺'\n  };\n  return emojis[emotion] || '😶';\n};\nconst getBiasColor = (biasType) => {\n  const colors = {\n    '灾难化': '#ff6b6b', '非黑即白': '#4ecdc4', '过度概括': '#45b7d1',\n    '情绪推理': '#96ceb4', '应该陈述': '#ffeead', '心理过滤': '#ffb347',\n    '个人化': '#c06c84', '控制谬误': '#7579e7', '贴标签': '#84b1ed', '读心术': '#d183c9'\n  };\n  return colors[biasType] || '#6c757d';\n};\nconst getBiasColorLight = (biasType) => {\n  const color = getBiasColor(biasType);\n  return color.replace(')', ', 0.3)').replace('rgb', 'rgba');\n};\n\nconst emotionTranslationMap = {\n  '焦虑': 'common.emotions.anxiety',\n  '沮丧': 'common.emotions.depression',\n  '愤怒': 'common.emotions.anger',\n  '悲伤': 'common.emotions.sadness',\n  '羞愧': 'common.emotions.shame',\n  '兴奋': 'common.emotions.excitement',\n  '平静': 'common.emotions.calm',\n  '恐惧': 'common.emotions.fear',\n  '失落': 'common.emotions.loss',\n  '担忧': 'common.emotions.worry',\n  '自责': 'common.emotions.selfBlame',\n  '困惑': 'common.emotions.confusion',\n  '无助': 'common.emotions.helplessness',\n};\nconst translateEmotion = (emotionText) => {\n  const key = emotionTranslationMap[emotionText] || emotionText;\n  return key.includes('.') ? t(key) : key;\n};\n\nconst biasTranslationMap = {\n  '灾难化': 'common.biases.catastrophizing',\n  '非黑即白': 'common.biases.allOrNothing',\n  '过度概括': 'common.biases.overgeneralization',\n  '情绪推理': 'common.biases.emotionalReasoning',\n  '应该陈述': 'common.biases.shouldStatements',\n  '心理过滤': 'common.biases.mentalFilter',\n  '个人化': 'common.biases.personalization',\n  '控制谬误': 'common.biases.controlFallacy',\n  '贴标签': 'common.biases.labeling',\n  '读心术': 'common.biases.mindReading'\n};\nconst translateBias = (biasText) => {\n  const key = biasTranslationMap[biasText] || biasText;\n  return key.includes('.') ? t(key) : key;\n};\n</script>\n\n<style scoped>\n.dashboard {\n  display: flex;\n  flex-direction: column;\n  gap: 1.5rem;\n  padding: 1rem;\n}\n\n.welcome-header {\n  text-align: center;\n  margin-bottom: 1rem;\n}\n\n.welcome-header h1 {\n  margin-bottom: 0.5rem;\n}\n\n.last-record {\n  color: var(--text-secondary);\n  font-size: 0.85rem;\n  background: rgba(66, 184, 131, 0.1);\n  display: inline-block;\n  padding: 0.2rem 0.6rem;\n  border-radius: 10px;\n}\n\n.dashboard-grid {\n  display: grid;\n  gap: 1rem;\n}\n\n.stats-section,\n.actions-section,\n.records-section,\n.charts-section {\n  grid-template-columns: 1fr;\n}\n\n.action-card, .stat-card, .record-card, .chart-card {\n  background-color: white;\n  background-color: var(--card-bg, white);\n  border-radius: var(--border-radius-md);\n  box-shadow: var(--box-shadow-sm);\n  padding: 1rem;\n  transition: var(--transition-default);\n  display: flex;\n  flex-direction: column;\n}\n\n.action-card:hover, .record-card:hover {\n  transform: translateY(-4px);\n  box-shadow: var(--box-shadow-md);\n  cursor: pointer;\n}\n\n.action-card {\n  align-items: center;\n  text-align: center;\n  text-decoration: none;\n  border-radius: 16px;\n  padding: 1.5rem 1rem;\n}\n\n.new-record {\n  background: linear-gradient(135deg, var(--primary-color), #2c5a89);\n  color: white;\n}\n.view-analysis {\n  background: linear-gradient(135deg, var(--secondary-color), #35a070);\n  color: white;\n}\n\n.action-card.disabled,\n.view-analysis.disabled {\n  opacity: 0.7;\n  cursor: not-allowed;\n  transform: none;\n  box-shadow: var(--box-shadow-sm);\n  background: linear-gradient(135deg, #a0a0a0, #b0b0b0);\n  color: #e0e0e0;\n  pointer-events: none;\n}\n\n.stat-card {\n  display: flex;\n  align-items: flex-start;\n  gap: 1rem;\n  border-left: 4px solid transparent;\n  padding: 1.2rem;\n}\n.total-records { border-left-color: var(--secondary-color); }\n.analyzed-records { border-left-color: var(--primary-color); }\n.mood-trend { border-left-color: var(--accent-color); }\n\n.stat-icon {\n  font-size: 1.8rem;\n  opacity: 0.7;\n  line-height: 1;\n  flex-shrink: 0;\n}\n\n.stat-content {\n  display: flex;\n  flex-direction: column;\n  min-width: 0;\n}\n\n.stat-content h4 {\n  margin: 0 0 0.25rem 0;\n  font-size: 0.9rem;\n  color: var(--text-secondary);\n  font-weight: 500;\n}\n\n.stat-number {\n  font-size: 1.8rem;\n  font-weight: 700;\n  color: var(--primary-color);\n  line-height: 1.2;\n}\n\n.trend-indicator {\n  font-weight: 600;\n  padding: 0.2rem 0.6rem;\n  border-radius: 10px;\n  display: inline-block;\n  font-size: 0.8rem;\n  margin-top: 0.2rem;\n}\n.trend-indicator.positive { background: rgba(66, 184, 131, 0.15); color: #2a9d62; }\n.trend-indicator.negative { background: rgba(255, 107, 107, 0.15); color: #e35555; }\n.trend-indicator.neutral { background: rgba(44, 62, 80, 0.1); color: var(--text-secondary); }\n\n.action-content .icon {\n  font-size: 2rem;\n  display: block;\n  margin-bottom: 0.5rem;\n}\n\n.action-content h3 {\n  color: inherit;\n  margin: 0 0 0.5rem 0;\n  font-size: 1.1rem;\n}\n\n.action-desc {\n  font-size: 0.85rem;\n  opacity: 0.8;\n  margin: 0;\n  color: inherit;\n}\n\n.section-title {\n  margin: 1.5rem 0 1rem 0;\n  border-bottom: 1px solid var(--border-color);\n  padding-bottom: 0.5rem;\n}\n\n.record-card {\n  cursor: pointer;\n}\n\n.record-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  flex-wrap: wrap;\n  gap: 0.5rem;\n  margin-bottom: 0.75rem;\n}\n\n.record-date {\n  font-size: 0.8rem;\n  color: var(--text-secondary);\n  background: var(--background-medium);\n  padding: 0.2rem 0.5rem;\n  border-radius: var(--border-radius-sm);\n  white-space: nowrap;\n}\n\n.record-emotions {\n  display: flex;\n  gap: 0.4rem;\n  flex-wrap: wrap;\n}\n\n.emotion-tag, .emotion-more {\n  padding: 0.2rem 0.6rem;\n  border-radius: 10px;\n  font-size: 0.75rem;\n}\n.emotion-tag { background: rgba(66, 184, 131, 0.1); color: var(--secondary-color); }\n.emotion-more { background: var(--background-medium); color: var(--text-secondary); }\n\n.record-thought {\n  margin-bottom: 0.75rem;\n  line-height: 1.5;\n  color: var(--text-primary);\n  font-size: 0.95rem;\n  white-space: pre-wrap;\n  overflow-wrap: break-word;\n}\n\n.record-status {\n  display: inline-block;\n  padding: 0.2rem 0.6rem;\n  border-radius: 10px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n.status-completed { background: rgba(66, 184, 131, 0.15); color: #2a9d62; }\n.status-progress { background: rgba(255, 193, 7, 0.15); color: #b98900; }\n.status-pending { background: rgba(44, 62, 80, 0.1); color: var(--text-secondary); }\n\n.chart-card {\n  display: flex;\n  flex-direction: column;\n}\n\n.chart-card-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1rem;\n  padding-bottom: 0.5rem;\n  border-bottom: 1px solid var(--border-color);\n}\n\n.chart-card-header h5 {\n  display: flex;\n  align-items: center;\n  margin: 0;\n}\n\n.stat-icon-small {\n  margin-right: 0.5rem;\n  font-size: 1.1rem;\n  opacity: 0.7;\n}\n\n.stat-card-actions {\n  display: flex;\n  gap: 0.5rem;\n}\n\n.emotion-count-badge, .bias-count-badge {\n  font-size: 0.75rem;\n  padding: 0.2rem 0.5rem;\n  border-radius: 10px;\n  background-color: rgba(58, 110, 165, 0.1);\n  color: var(--primary-color);\n  white-space: nowrap;\n}\n\n.chart-content {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  gap: 0.6rem;\n}\n\n.chart-item {\n  display: flex;\n  align-items: center;\n  gap: 0.75rem;\n  min-width: 0;\n}\n\n.chart-label {\n  flex: 0 0 80px;\n  display: flex;\n  align-items: center;\n  gap: 0.4rem;\n  font-size: 0.85rem;\n  color: var(--text-primary);\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.emotion-emoji {\n  font-size: 1rem;\n  line-height: 1;\n}\n\n.bias-icon {\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  flex-shrink: 0;\n}\n\n.emotion-name, .bias-name {\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n.chart-bar-container {\n  flex: 1;\n  position: relative;\n  height: 18px;\n  background-color: var(--background-medium);\n  border-radius: var(--border-radius-sm);\n  overflow: hidden;\n}\n\n.chart-bar {\n  position: absolute;\n  left: 0;\n  top: 0;\n  height: 100%;\n  border-radius: var(--border-radius-sm);\n  background: linear-gradient(to right, var(--primary-color), var(--secondary-color));\n  transition: width 0.5s ease-out;\n}\n\n.chart-bar.bias-bar {\n  background: none;\n}\n\n.chart-value {\n  position: absolute;\n  right: 5px;\n  top: 0;\n  height: 100%;\n  display: flex;\n  align-items: center;\n  font-size: 0.75rem;\n  font-weight: 600;\n  color: var(--text-primary);\n}\n\n.no-data {\n  text-align: center;\n  padding: 1.5rem;\n  background-color: var(--background-light);\n  border: 1px dashed var(--border-color);\n  border-radius: var(--border-radius-sm);\n  color: var(--text-secondary);\n  font-style: italic;\n  margin-top: 0.5rem;\n  font-size: 0.9rem;\n}\n\n@media (min-width: 600px) {\n  .stats-section {\n    grid-template-columns: repeat(3, 1fr);\n  }\n  .actions-section {\n    grid-template-columns: repeat(2, 1fr);\n}\n  .charts-section {\n    grid-template-columns: repeat(2, 1fr);\n  }\n  .stat-card {\n    align-items: center;\n    padding: 1.5rem;\n  }\n}\n\n@media (min-width: 768px) {\n  .dashboard {\n    padding: 1.5rem;\n    gap: 2rem;\n  }\n  .dashboard-grid {\n    gap: 1.5rem;\n  }\n  .records-section {\n    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  }\n}\n\n@media (min-width: 1024px) {\n  .records-section {\n    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n}\n}\n</style>","import script from \"./Dashboard.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./Dashboard.vue?vue&type=style&index=0&id=b74af2d2&scoped=true&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-b74af2d2\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport { createRouter, createWebHistory } from 'vue-router'\nimport { createI18n } from 'vue-i18n'\n\n// Import global styles\nimport '../assets/css/main.css';\n\n// Import language files\nimport scMessages from './locales/sc.json'; // Revert to direct import\nimport tcMessages from './locales/tc.json'; // Revert to direct import\n// import * as scData from './locales/sc.json'; // Remove previous attempt\n// import * as tcData from './locales/tc.json'; // Remove previous attempt\n\nimport App from '../App.vue'\nimport ApiConfig from '../components/ApiConfig.vue'\nimport ThoughtRecord from '../components/ThoughtRecord.vue'\nimport CognitiveAnalysis from '../components/CognitiveAnalysis.vue'\nimport Dashboard from '../components/Dashboard.vue'\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes: [\n    { path: '/', component: Dashboard },\n    { path: '/config', component: ApiConfig },\n    { path: '/record', component: ThoughtRecord },\n    { path: '/analysis', component: CognitiveAnalysis }\n  ]\n})\n\n// Determine initial locale\nconst getInitialLocale = () => {\n  const savedLocale = localStorage.getItem('userLocale');\n  // Add more sophisticated detection later if needed (e.g., browser language)\n  return savedLocale || 'sc'; // Default to Simplified Chinese\n};\n\n// Create i18n instance\nconst i18n = createI18n({\n  legacy: false, // Use Composition API mode\n  locale: getInitialLocale(), // Set initial locale\n  fallbackLocale: 'sc', // Fallback if translation is missing\n  messages: {\n    sc: scMessages, // Use direct import variable\n    tc: tcMessages  // Use direct import variable\n  }\n});\n\nconst store = {\n  state: {\n    apiConfig: {\n      endpoint: 'https://api.openai.com/v1/chat/completions',\n      apiKey: '',\n      model: 'gpt-3.5-turbo'\n    },\n    thoughtRecords: [],\n    selectedRecordIndex: undefined,\n    currentLocale: getInitialLocale() // Add locale state\n  },\n  saveState() {\n    localStorage.setItem('cbtHelperState', JSON.stringify(this.state));\n    localStorage.setItem('userLocale', this.state.currentLocale); // Save locale preference\n  },\n  restoreState() {\n    const saved = localStorage.getItem('cbtHelperState');\n    if (saved) {\n      try {\n        const parsedState = JSON.parse(saved);\n        this.state = {\n          ...this.state,\n          ...parsedState,\n          apiConfig: { ...this.state.apiConfig, ...parsedState.apiConfig },\n          currentLocale: localStorage.getItem('userLocale') || 'sc' // Restore locale\n        };\n      } catch (e) {\n        console.error('恢复状态失败:', e);\n      }\n    }\n    // Ensure i18n instance locale matches restored state\n    i18n.global.locale.value = this.state.currentLocale;\n  },\n  setLocale(locale) {\n    if (['sc', 'tc'].includes(locale)) {\n      this.state.currentLocale = locale;\n      i18n.global.locale.value = locale; // Update i18n instance\n      this.saveState(); // Save the new locale preference\n    } else {\n      console.warn(`Unsupported locale: ${locale}`);\n    }\n  },\n  // 清除所有记录数据\n  clearAll() {\n    this.state.thoughtRecords = [];\n    this.saveState();\n  }\n}\n\nstore.restoreState()\n\nconst app = createApp(App)\napp.use(router)\napp.use(i18n) // Mount i18n\n\n// Provide store globally\napp.provide('store', store)\n\napp.mount('#app')","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkcbthelper\"] = self[\"webpackChunkcbthelper\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], () => (__webpack_require__(522)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["store","t","locale","isMobileMenuOpen","currentLocale","state","toggleMobileMenu","value","closeMobileMenu","toggleLocale","newLocale","setLocale","__exports__","class","type","apiConfig","placeholder","endpoint","apiKey","handleModelChange","selectedModelOption","customModelName","saveConfig","disabled","isFormValid","data","this","$store","showSuccess","created","predefinedModels","includes","model","computed","hasRequiredFields","methods","saveState","setTimeout","render","saveRecord","rows","newRecord","situation","required","automaticThought","commonEmotions","emotion","emotions","key","toggleEmotion","getEmotionEmoji","customEmotions","length","idx","removeCustomEmotion","addCustomEmotion","currentEmotion","intensity","min","max","step","number","resetForm","to","thoughtRecords","recentThoughts","record","index","goToAnalysis","formatDate","timestamp","slice","truncateText","customEmotion","trim","emojis","indexOf","push","splice","Date","toISOString","unshift","undefined","selectedRecordIndex","toLocaleString","month","day","hour","minute","text","maxLength","substring","$router","for","showHistoryManager","id","loadSelectedRecord","formatTimestamp","getRecordStatusClass","getRecordStatus","deleteRecord","title","currentRecord","analysisResult","cognitiveBiases","bias","style","getBiasColor","selectBias","confidence","selectedBias","evidence","guidingQuestions","question","userResponse","alternativeThought","saveAlternativeThought","generateAlternativeThought","isLoading","analyzeThought","loadingProgress","loadingStage","loadingTip","apiError","analyzedOnce","loadingTips","mounted","biasType","colors","confirm","getRandomTip","biasResponse","callLLM","getBiasPrompt","parseBiasResponse","questionsResponse","getQuestionPrompt","parseQuestionResponse","error","console","message","response","getAlternativeThoughtPrompt","choices","content","prompt","headers","proxyEndpoint","log","axios","post","timeout","errorMessage","details","status","Error","request","join","map","b","parsed","JSON","parse","biases","jsonError","jsonMatch","match","extractedJson","e","warn","questions","Array","isArray","arrayMatch","extractedArray","lines","split","filter","line","startsWith","replace","q","alert","Math","floor","random","router","totalRecordsCount","latestRecord","hasRecords","analyzedRecordsCount","recentRecords","analysisSummaryText","count","moodTrend","records","label","recentAvg","ceil","reduce","sum","r","earlierAvg","diff","emotionDistribution","flatMap","acc","maxEmotionCount","Object","values","sortedEmotions","entries","sort","a","obj","emotionCountText","keys","topBiases","maxBiasCount","getBiasesTotal","biasCountText","isoString","toLocaleDateString","getRecordStatusLabel","getBiasColorLight","color","emotionTranslationMap","translateEmotion","emotionText","biasTranslationMap","translateBias","biasText","history","routes","path","component","Dashboard","ApiConfig","ThoughtRecord","CognitiveAnalysis","getInitialLocale","savedLocale","localStorage","getItem","i18n","legacy","fallbackLocale","messages","sc","tc","setItem","stringify","restoreState","saved","parsedState","global","clearAll","app","App","use","provide","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","every","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","window","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}